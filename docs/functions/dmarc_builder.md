---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "dmarc_builder function - dnshelper"
subcategory: ""
description: |-
  DMARC Builder function
---

# function: dmarc_builder

Builds a DMARC record

## Example Usage

```terraform
locals {
  version          = "DMARC1"
  policy           = "reject"
  subdomain_policy = "quarantine"
  alignment_spf    = "relaxed"
  alignment_dkim   = "strict"
  percent          = 100
  rua              = ["mailto:admin@malmeida.dev"]
  ruf              = ["mailto:alerts@malmeida.dev"]
  failure_options  = 0
  failure_format   = "afrf"
  report_interval  = 86400
}

output "dmarc_record" {
  value = provider::dnshelper::dmarc_builder(
    local.version,
    local.policy,
    local.subdomain_policy,
    local.alignment_spf,
    local.alignment_dkim,
    local.percent,
    local.rua,
    local.ruf,
    local.failure_options,
    local.failure_format,
    local.report_interval
  )
}
```

## Signature

<!-- signature generated by tfplugindocs -->
```text
dmarc_builder(version string, policy string, subdomain_policy string, alignment_spf string, alignment_dkim string, percent number, rua list of string, ruf list of string, failure_options string, failure_format string, report_interval number) string
```

## Arguments

<!-- arguments generated by tfplugindocs -->
1. `version` (String) The DMARC version, by default DMARC1
1. `policy` (String) The DMARC policy (p=), must be one of 'none', 'quarantine', 'reject'
1. `subdomain_policy` (String) The DMARC policy for subdomains (sp=), must be one of 'none', 'quarantine', 'reject'
1. `alignment_spf` (String) 'strict'/'s' or 'relaxed'/'r' alignment for SPF (aspf=, default: 'r')
1. `alignment_dkim` (String) 'strict'/'s' or 'relaxed'/'r' alignment for DKIM (adkim=, default: 'r')
1. `percent` (Number) Number between 0 and 100, percentage for which policies are applied (pct=, default: 100)
1. `rua` (List of String) Array of aggregate report targets
1. `ruf` (List of String) Array of failure report targets
1. `failure_options` (String) String containing is passed raw (fo=, default: '0')
1. `failure_format` (String) Format in which failure reports are requested (rf=, default: 'afrf')
1. `report_interval` (Number) Interval in which reports are requested (ri=)

